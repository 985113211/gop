<?phpnamespace VGPM\Lib;/** *  控制器类库 */class Controller {	private $_c      = 'Index';	private $_a      = 'Index';	private $_mod    = '';	private $_params = array();	public function __construct($mod = 'Cmd') {		$this->_mod = $mod;	}	private function _run() {		$func = "\\VGPM\\" . $this->_mod . "\\" . $this->_c;		$a    = 'A' . $this->_a;		if (!method_exists($func, $a)) {			echo $func;			Logger::halt("404 Not Found [" . $this->_c . '::' . $this->_a . "]");		}		$obj = new $func();		$obj->setRequest($this->_params);		return $obj->$a();	}	private function _cli() {		$func = "\\VGPM\\" . $this->_mod . "\\" . $this->_c;		$a    = 'A' . $this->_a;		if (!method_exists($func, $a)) {			echo "404 Not Found [" . $func . '::' . $a . "]".PHP_EOL;			exit;		}		$obj = new $func();		return $obj->$a();	}	public function run() {		$r      = filter_input(INPUT_GET, 'r', FILTER_SANITIZE_STRING);		$actStr = !empty($r) ? $r : '';		if (!empty($actStr)) {			list($c, $a) = explode('/', $actStr);		}		$this->_c = (!empty($c) ? ucfirst($c) : 'Index');		$this->_a = (!empty($a) ? ucfirst($a) : 'Index');		if (isset($_REQUEST['r'])) {			unset($_REQUEST['r']);		}		$params = array();		foreach ($_REQUEST as $val) {			$params[] = filter_var($val, FILTER_SANITIZE_STRING);		}		$this->_params = $params;		$this->_run();	}	public function cli($c, $a, $params=[]) {		$this->_c      = $c;		$this->_a      = $a;		$this->_params = $params;		$this->_cli();	}}?>